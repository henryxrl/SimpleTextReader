!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;(t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).HyperList=e()}}(function(){return(function(){function e(t,i,o){function n(s,a){if(!i[s]){if(!t[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(r)return r(s,!0);var l=Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){return n(t[s][1][e]||e)},c,c.exports,e,t,i,o)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}return e})()({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}();function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r={width:"100%",height:"100%"},s=function e(t){return Number(t)===Number(t)},a="classList"in document.documentElement?function(e,t){e.classList.add(t)}:function(e,t){var i=e.getAttribute("class")||"";e.setAttribute("class",i+" "+t)},h=function(){function e(t,i){var o=this;!function e(t,i){if(!(t instanceof i))throw TypeError("Cannot call a class as a function")}(this,e),this._config={},this._lastRepaint=null,this._maxElementHeight=e.getMaxBrowserHeight(),this.refresh(t,i);var n=this._config;!function e(){var t=o._getScrollPosition(),i=o._lastRepaint;if(o._renderAnimationFrame=window.requestAnimationFrame(e),t!==i){var r=i?t-i:0;if(!i||r<0||r>o._averageHeight){var s=o._renderChunk();o._lastRepaint=t,!1!==s&&"function"==typeof n.afterRender&&n.afterRender()}}}()}return o(e,null,[{key:"create",value:function t(i,o){return new e(i,o)}},{key:"mergeStyle",value:function e(t,i){for(var o in i)t.style[o]!==i[o]&&(t.style[o]=i[o])}},{key:"getMaxBrowserHeight",value:function t(){var i=document.createElement("div"),o=document.createElement("div");e.mergeStyle(i,{position:"absolute",height:"1px",opacity:0}),e.mergeStyle(o,{height:"10000000px"}),i.appendChild(o),document.body.appendChild(i);var n=o.offsetHeight,r=8;if(o.style.height=10**r+"px",n!==o.offsetHeight){for(n=o.offsetHeight;0!==o.offsetHeight&&n!==o.offsetHeight;)r++,o.style.height=10**r+"px",0!==o.offsetHeight&&(n=o.offsetHeight);if(0===o.offsetHeight)for(var s=10**r,a=1e7,h=s,l=s;0===n;)l=h,h=parseInt((s+a)/2),o.style.height=h,h===l?n=h:o.offsetHeight>0?a=h:0===o.offsetHeight&&(s=h)}return document.body.removeChild(i),n}},]),o(e,[{key:"destroy",value:function e(){window.cancelAnimationFrame(this._renderAnimationFrame)}},{key:"refresh",value:function t(i,o){if(Object.assign(this._config,r,o),!i||1!==i.nodeType)throw Error("HyperList requires a valid DOM Node container");this._element=i;var a,h=this._config,l=this._scroller||h.scroller||document.createElement(h.scrollerTagName||"tr");if("boolean"!=typeof h.useFragment&&(this._config.useFragment=!0),!h.generate)throw Error("Missing required `generate` function");if(!s(h.total))throw Error("Invalid required `total` value, expected number");if(Array.isArray(h.itemHeight)||s(h.itemHeight))s(h.itemHeight)?this._itemHeights=Array(h.total).fill(h.itemHeight):this._itemHeights=h.itemHeight;else throw Error("\n        Invalid required `itemHeight` value, expected number or array\n      ".trim());Object.keys(r).filter(function(e){return e in h}).forEach(function(e){var t=h[e],i=s(t);if(t&&"string"!=typeof t&&"number"!=typeof t)throw Error("Invalid optional `"+e+"`, expected string or number");i&&(h[e]=t+"px")});var c=Boolean(h.horizontal),f=h[c?"width":"height"];if(f){var u=s(f),g=!u&&"%"===f.slice(-1),m=u?f:parseInt(f.replace(/px|%/,""),10),p=window[c?"innerWidth":"innerHeight"];g?this._containerSize=p*m/100:this._containerSize=s(f)?f:m}var d=h.scrollContainer,v=h.itemHeight*h.total,$=this._maxElementHeight;v>$&&console.warn(["HyperList: The maximum element height",$+"px has","been exceeded; please reduce your item height.",].join(" "));var y={width:""+h.width,height:d?v+"px":""+h.height,overflow:d?"none":"auto",position:"relative"};e.mergeStyle(i,y),d&&e.mergeStyle(h.scrollContainer,{overflow:"auto"});var H=(n(a={opacity:"0",position:"absolute"},c?"height":"width","1px"),n(a,c?"width":"height",v+"px"),a);e.mergeStyle(l,H),this._scroller||i.appendChild(l);var _=this._computeScrollPadding();this._scrollPaddingBottom=_.bottom,this._scrollPaddingTop=_.top,this._scroller=l,this._scrollHeight=this._computeScrollHeight(),this._itemPositions=this._itemPositions||Array(h.total).fill(0),this._computePositions(0),this._renderChunk(null!==this._lastRepaint),"function"==typeof h.afterRender&&h.afterRender()}},{key:"_getRow",value:function t(i){var o=this._config,r=o.generate(i),h=r.height;if(void 0!==h&&s(h)?(r=r.element,h!==this._itemHeights[i]&&(this._itemHeights[i]=h,this._computePositions(i),this._scrollHeight=this._computeScrollHeight(i))):h=this._itemHeights[i],!r||1!==r.nodeType)throw Error("Generator did not return a DOM Node for index: "+i);a(r,o.rowClassName||"vrow");var l=this._itemPositions[i]+this._scrollPaddingTop;return e.mergeStyle(r,n({position:"absolute"},o.horizontal?"left":"top",l+"px")),r}},{key:"_getScrollPosition",value:function e(){var t=this._config;return"function"==typeof t.overrideScrollPosition?t.overrideScrollPosition():this._element[t.horizontal?"scrollLeft":"scrollTop"]}},{key:"_renderChunk",value:function e(t){var i=this._config,o=this._element,n=this._getScrollPosition(),r=i.total,s=i.reverse?this._getReverseFrom(n):this._getFrom(n)-1;if((s<0||s-this._screenItemsLen<0)&&(s=0),!t&&this._lastFrom===s)return!1;this._lastFrom=s;var a=s+this._cachedItemsLen;(a>r||a+this._cachedItemsLen>r)&&(a=r);var h=i.useFragment?document.createDocumentFragment():[],l=this._scroller;h[i.useFragment?"appendChild":"push"](l);for(var c=s;c<a;c++){var f=this._getRow(c);h[i.useFragment?"appendChild":"push"](f)}if(i.applyPatch)return i.applyPatch(o,h);o.innerHTML="",o.appendChild(h)}},{key:"_computePositions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=this._config,o=i.total,n=i.reverse;t<1&&!n&&(t=1);for(var r=t;r<o;r++)n?0===r?this._itemPositions[0]=this._scrollHeight-this._itemHeights[0]:this._itemPositions[r]=this._itemPositions[r-1]-this._itemHeights[r]:this._itemPositions[r]=this._itemHeights[r-1]+this._itemPositions[r-1]}},{key:"_computeScrollHeight",value:function t(){var i,o=this,r=this._config,s=Boolean(r.horizontal),a=r.total,h=this._itemHeights.reduce(function(e,t){return e+t},0)+this._scrollPaddingBottom+this._scrollPaddingTop;e.mergeStyle(this._scroller,(n(i={opacity:0,position:"absolute",top:"0px"},s?"height":"width","1px"),n(i,s?"width":"height",h+"px"),i));var l=this._itemHeights.slice(0).sort(function(e,t){return e-t}),c=Math.floor(a/2),f=a%2==0?(l[c]+l[c-1])/2:l[c],u=s?"clientWidth":"clientHeight",g=r.scrollContainer?r.scrollContainer:this._element,m=g[u]?g[u]:this._containerSize;return this._screenItemsLen=Math.ceil(m/f),this._containerSize=m,this._cachedItemsLen=Math.max(this._cachedItemsLen||0,3*this._screenItemsLen),this._averageHeight=f,r.reverse&&window.requestAnimationFrame(function(){s?o._element.scrollLeft=h:o._element.scrollTop=h}),h}},{key:"_computeScrollPadding",value:function e(){var t=this._config,i=Boolean(t.horizontal),o=t.reverse,n=window.getComputedStyle(this._element),r=function e(t){return parseInt(n.getPropertyValue("padding-"+t),10)||0};return i&&o?{bottom:r("left"),top:r("right")}:i?{bottom:r("right"),top:r("left")}:o?{bottom:r("top"),top:r("bottom")}:{bottom:r("bottom"),top:r("top")}}},{key:"_getFrom",value:function e(t){for(var i=0;this._itemPositions[i]<t;)i++;return i}},{key:"_getReverseFrom",value:function e(t){for(var i=this._config.total-1;i>0&&this._itemPositions[i]<t+this._containerSize;)i--;return i}},]),e}();i.default=h,t.exports=i.default},{},]},{},[1])(1)});